# Cargo build configuration

[env]
# Enable sccache for faster builds if available
SCCACHE_CACHE_SIZE = "2G"
SCCACHE_DIR = "${HOME}/.cache/sccache"

RUSTC_WRAPPER = "sccache"

# Enable incremental builds for development
CARGO_INCREMENTAL = "1"

# Set default target
CARGO_BUILD_TARGET = "x86_64-unknown-linux-gnu"

[profile.release]
# Optimize for size and speed
opt-level = 3
lto = "thin"
codegen-units = 1
panic = "abort"
strip = true

[profile.dev]
# Faster development builds
opt-level = 0
debug = true
incremental = true
codegen-units = 256
lto = false

[profile.test]
# Test profile optimization
opt-level = 1
debug = true
incremental = true
codegen-units = 16
lto = false

[profile.bench]
# Benchmark profile
opt-level = 3
debug = false
codegen-units = 1
lto = "thin"
strip = false
