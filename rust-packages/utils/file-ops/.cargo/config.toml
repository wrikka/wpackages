[build]
# Use sccache for faster rebuilds if available
rustc-wrapper = "sccache"

[unstable]
# Enable sparse registry for faster crate downloads
sparse-registry = true

[profile.dev]
# Fast development builds
opt-level = 0
debug = true
lto = false
codegen-units = 256
panic = "unwind"

[profile.test]
# Fast test builds with some optimizations
opt-level = 1
debug = true
lto = false
codegen-units = 256

[profile.release]
# Optimized release builds
opt-level = 3
debug = false
lto = "thin"
codegen-units = 1
panic = "abort"
strip = "symbols"

[profile.bench]
# Benchmark profile (same as release)
opt-level = 3
debug = false
lto = "thin"
codegen-units = 1
panic = "abort"

[target.x86_64-pc-windows-msvc]
# Windows-specific linker optimizations
linker = "rust-lld"
rustflags = ["-C", "target-cpu=native"]

[target.x86_64-unknown-linux-gnu]
# Linux-specific optimizations
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=lld", "-C", "target-cpu=native"]

[env]
# Environment variables for build
RUST_BACKTRACE = "1"
