id: plugin-structure-rule
language: typescript
rule:
  pattern: export default function $NAME($$$ARGS): $RET
  inside:
    kind: function_declaration
    has:
      kind: object
      regex: 'name.*:'
      stopBy: end
  message: |
    Vite plugins should have a 'name' property to identify them in the build process.
    This is required for proper plugin registration and debugging.
severity: error
